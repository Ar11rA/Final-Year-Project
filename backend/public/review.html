<html>

<textarea id='txt-review' name='review' rows='20' cols='120'></textarea>
<button onclick='getRating()' id='btn-sub-review'>Submit</button>
<p id='reviewResult'></p>
<script>
  function getRating() {
    const review = document.getElementById('txt-review').value
    console.log(review)
    const data = { review: review }
    fetch('/review', {
      method: 'POST',
      body: JSON.stringify(data),
      credentials: 'same-origin',
      headers: {
        'Content-Type': 'application/json'
      }
    }).then((response) => {
      return response.json()
    }).then((data)=>{
      document.getElementById('reviewResult').innerHTML = `Your review was rated at ${data.stars} stars 
      with your overall sentiment judged as ${data.sentiment}`  
    })
  }
</script>
</html>